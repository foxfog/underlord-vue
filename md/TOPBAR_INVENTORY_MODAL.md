# Topbar –∏ InventoryModal

## –û–ø–∏—Å–∞–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (Topbar) —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—é, –∞ —Ç–∞–∫–∂–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è —Å —Ç—Ä–µ–º—è –≤–∫–ª–∞–¥–∫–∞–º–∏.

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### Topbar.vue

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–π –≤ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ –≤–µ—Ä—à–∏–Ω–µ –∏–≥—Ä–æ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞.

**–°–≤–æ–π—Å—Ç–≤–∞:**
- `character` (Object) - –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

**–°–æ–±—ã—Ç–∏—è:**
- `open-stats` - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- `open-inventory` - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è

**–ö–Ω–æ–ø–∫–∏:**
- üìä –°—Ç–∞—Ç—ã - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –æ–∫–Ω–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
- üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –æ–∫–Ω–æ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è

**–°—Ç–∏–ª–∏:**
- –ü–æ–∑–∏—Ü–∏—è: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–≤–µ—Ä—Ö—É —ç–∫—Ä–∞–Ω–∞
- –§–æ–Ω —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º –∏ —Ä–∞–∑–º—ã—Ç–∏–µ–º (blur)
- –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º hover
- Z-index: 100

### InventoryModal.vue

–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ç—Ä–µ–º—è –≤–∫–ª–∞–¥–∫–∞–º–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ–º –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ.

**–°–≤–æ–π—Å—Ç–≤–∞:**
- `isVisible` (Boolean) - –≤–∏–¥–∏–º–æ—Å—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
- `character` (Object) - –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
- `itemsData` (Object) - —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≤—Å–µ—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ (equipment –∏ other)

**–°–æ–±—ã—Ç–∏—è:**
- `close` - –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ (—Ç–∞–∫–∂–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—É—é –≤–∫–ª–∞–¥–∫—É –Ω–∞ "–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å")

**–í–∫–ª–∞–¥–∫–∏:**
1. **üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å**
   - –°–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∏–∑ `character.inventory.items`
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç: –∏–∫–æ–Ω–∫—É, –Ω–∞–∑–≤–∞–Ω–∏–µ, –≤–µ—Å, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ (–µ—Å–ª–∏ > 1)
   - –ü—É—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç

2. **üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**
   - HP (—Å –ø–æ–ª–æ—Å–∫–æ–π –∑–¥–æ—Ä–æ–≤—å—è)
   - MP (—Å –ø–æ–ª–æ—Å–∫–æ–π –º–∞–Ω—ã)
   - –ê—Ç–∞–∫–∞
   - –ó–∞—â–∏—Ç–∞

3. **‚ú® –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏**
   - –°–ø–∏—Å–æ–∫ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –∏–∑ `character.abilities`
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
   - –ü—É—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –Ω–µ—Ç

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Game.vue

```vue
<!-- –í template -->
<Topbar
	v-if="showTopbar"
	:character="mcCharacter"
	@open-stats="toggleStatsModal"
	@open-inventory="toggleInventoryModal"
/>

<CharacterStatsModal
	:is-visible="showStatsModal"
	:character="mcCharacter"
	@close="toggleStatsModal"
/>

<InventoryModal
	:is-visible="showInventoryModal"
	:character="mcCharacter"
	:items-data="itemsData"
	@close="toggleInventoryModal"
/>
```

```javascript
// –í script setup
const showTopbar = computed(() => {
	return uiVisibility.value.all && uiVisibility.value.topbar
})

function toggleInventoryModal() {
	showInventoryModal.value = !showInventoryModal.value
}

// –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
onMounted(() => {
	Promise.all([
		fetch('/data/characters/equipment.json').then(r => r.json()),
		fetch('/data/characters/other.json').then(r => r.json())
	]).then(([equipment, other]) => {
		itemsData.value = {}
		equipment.forEach(item => {
			itemsData.value[item.id] = item
		})
		other.forEach(item => {
			itemsData.value[item.id] = item
		})
	})
})
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–∞

### Inventory

```json
{
	"inventory": {
		"items": [
			{
				"itemId": "gasmask"
			},
			{
				"itemId": "ygdrasil-coin-old",
				"quantity": 23
			}
		]
	}
}
```

### Abilities

```json
{
	"abilities": [
		{
			"id": "power_attack",
			"name": "–ú–æ—â–Ω–∞—è –∞—Ç–∞–∫–∞",
			"description": "–ù–∞–Ω–µ—Å—Ç–∏ —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —É—Ä–æ–Ω –≤—Ä–∞–≥—É (+50% –∫ –∞—Ç–∞–∫–µ)"
		},
		{
			"id": "dodge",
			"name": "–£–≤–æ—Ä–æ—Ç",
			"description": "–£–≤–µ–ª–∏—á–∏—Ç—å —à–∞–Ω—Å —É–∫–ª–æ–Ω–µ–Ω–∏—è –Ω–∞ 30%"
		}
	]
}
```

## –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã

### Topbar
- –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞ —Ç—ë–º–Ω–æ–º —Ñ–æ–Ω–µ —Å —Ä–∞–∑–º—ã—Ç–∏–µ–º
- –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏: –∫–Ω–æ–ø–∫–∞ –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –Ω–∞ 1px –∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —è—Ä—á–µ
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏: –∫–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–æ

### InventoryModal
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º —Ñ–æ–Ω–æ–º
- –¢–∞–±—ã —Å –∞–∫—Ç–∏–≤–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (–≥–æ–ª—É–±–æ–π —Ñ–æ–Ω)
- –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Å–∫—Ä–æ–ª–ª–±–∞—Ä–æ–º
- –ü—Ä–µ–¥–º–µ—Ç—ã –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º hover

## CSS –∫–ª–∞—Å—Å—ã –∏ —Å—Ç–∏–ª–∏

### Topbar
- `.topbar` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- `.topbar-btn` - –∫–Ω–æ–ø–∫–∏ –ø–∞–Ω–µ–ª–∏

### InventoryModal
- `.modal` - –æ–≤–µ—Ä–ª–µ–π –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
- `.modal-content` - —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
- `.modal-header` - –∑–∞–≥–æ–ª–æ–≤–æ–∫
- `.modal-tabs` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–∫–ª–∞–¥–æ–∫
- `.modal-tab` - –æ—Ç–¥–µ–ª—å–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞
- `.modal-body` - –æ—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
- `.modal-footer` - –Ω–∏–∂–Ω—è—è —á–∞—Å—Ç—å —Å –∫–Ω–æ–ø–∫–æ–π –∑–∞–∫—Ä—ã—Ç–∏—è

## UI Visibility Control

Topbar –º–æ–∂–Ω–æ —Å–∫—Ä—ã–≤–∞—Ç—å —á–µ—Ä–µ–∑ `uiVisibility.topbar`:

```javascript
uiVisibility.value.topbar = false // —Å–∫—Ä—ã—Ç—å topbar
uiVisibility.value.topbar = true  // –ø–æ–∫–∞–∑–∞—Ç—å topbar
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∏–≥—Ä–æ–≤—ã–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏

Topbar –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–ª–µ–¥–∏—Ç –∑–∞ `uiVisibility` –æ—Ç VisualNovel –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è/–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã.
