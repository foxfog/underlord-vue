# üìö –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (body.json) - –ü–æ–ª–Ω—ã–π –≥–∞–π–¥

## –§–∞–π–ª —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –æ–ø–∏—Å–∞–Ω–∞ –≤ —Ñ–∞–π–ª–µ `body.json`:

```
src/renderer/public/data/characters/{character_id}/body.json
```

–ù–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ –≥–µ—Ä–æ—è:
```
src/renderer/public/data/characters/mc/body.json
```

## –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```json
{
  "part_name": {
    "image": "images/sprites/characters/{character_id}/{part_name}.png",
    "parent": "parent_part_name",
    "zindex": 0,
    "offset": {
      "x": 0.5,
      "y": -50.75
    }
  }
}
```

## –ü–æ–ª—è –≤ JSON

### `image` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
–ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø—Ä–∞–π—Ç–∞

```json
"image": "images/sprites/characters/mc/head.png"
```

### `parent` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
ID —á–∞—Å—Ç–∏ —Ç–µ–ª–∞, –∫ –∫–æ—Ç–æ—Ä–æ–π –∫—Ä–µ–ø–∏—Ç—Å—è —Ç–µ–∫—É—â–∞—è —á–∞—Å—Ç—å. –û–±—Ä–∞–∑—É–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏—é.

```json
"parent": "body"        // –ö—Ä–µ–ø–∏—Ç—Å—è –∫ body
"parent": "neck"        // –ö—Ä–µ–ø–∏—Ç—Å—è –∫ neck
```

**–ï—Å–ª–∏ `parent` –Ω–µ —É–∫–∞–∑–∞–Ω** - —á–∞—Å—Ç—å –∫—Ä–µ–ø–∏—Ç—Å—è –∫ –∫–æ—Ä–Ω—é –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (–æ–±—ã—á–Ω–æ —ç—Ç–æ body).

### `zindex` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–ü–æ—Ä—è–¥–æ–∫ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ —á–∞—Å—Ç–∏. –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–ø–µ—Ä–µ–¥–∏/—Å–∑–∞–¥–∏.

```json
"zindex": -1            // –ü–æ–∑–∞–¥–∏ –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç–µ–π
"zindex": 0             // –û–±—ã—á–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
"zindex": 1             // –ü–æ–≤–µ—Ä—Ö –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç–µ–π
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:**
```json
"z-index": -1           // –¢–∞–∫–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!
```

#### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- **`zindex: -1`** - –∑–∞–¥–Ω—è—è —Ä—É–∫–∞, —á–∞—Å—Ç–∏ –ø–æ–¥ —Ç–µ–ª–æ–º
- **`zindex: 0`** - –æ–±—ã—á–Ω–∞—è —á–∞—Å—Ç—å (—Ç–µ–ª–æ, –≥–æ–ª–æ–≤–∞, –ø–µ—Ä–µ–¥–Ω—è—è —Ä—É–∫–∞)
- **`zindex: 1`** - –≤–æ–ª–æ—Å—ã, —É–∫—Ä–∞—à–µ–Ω–∏—è –ø–æ–≤–µ—Ä—Ö –≥–æ–ª–æ–≤—ã

### `offset` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–°–º–µ—â–µ–Ω–∏–µ —á–∞—Å—Ç–∏ —Ç–µ–ª–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ä–æ–¥–∏—Ç–µ–ª—è –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö –æ—Ç –≤—ã—Å–æ—Ç—ã —Å–ø—Ä–∞–π—Ç–∞.

```json
"offset": {
  "x": -41.99,        // –°–º–µ—â–µ–Ω–∏–µ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ (%)
  "y": -43            // –°–º–µ—â–µ–Ω–∏–µ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ (%)
}
```

**–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:**
- **x –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ** ‚Üí —Å–¥–≤–∏–≥ –≤–ø—Ä–∞–≤–æ
- **x –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ** ‚Üí —Å–¥–≤–∏–≥ –≤–ª–µ–≤–æ
- **y –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ** ‚Üí —Å–¥–≤–∏–≥ –≤–Ω–∏–∑
- **y –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ** ‚Üí —Å–¥–≤–∏–≥ –≤–≤–µ—Ä—Ö

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä

```json
{
  "body": {
    "image": "images/sprites/characters/mc/body.png"
  },
  "neck": {
    "image": "images/sprites/characters/mc/neck.png",
    "parent": "body",
    "offset": {
      "x": 0,
      "y": -50.75
    }
  },
  "head": {
    "image": "images/sprites/characters/mc/head.png",
    "parent": "neck",
    "offset": {
      "x": -41.99,
      "y": -43
    }
  },
  "arm_left": {
    "image": "images/sprites/characters/mc/arm_left.png",
    "parent": "body",
    "offset": {
      "x": 19.5,
      "y": -42.5
    }
  },
  "arm_right": {
    "image": "images/sprites/characters/mc/arm_right.png",
    "parent": "body",
    "zindex": -1,
    "offset": {
      "x": -19.2,
      "y": -43
    }
  }
}
```

**–ò–µ—Ä–∞—Ä—Ö–∏—è:**
```
body (root)
‚îú‚îÄ‚îÄ neck
‚îÇ   ‚îî‚îÄ‚îÄ head
‚îú‚îÄ‚îÄ arm_left
‚îî‚îÄ‚îÄ arm_right (zindex: -1)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç—Ä–∏—Å–æ–≤–∫–∏:**
```
[arm_right (–ø–æ–∑–∞–¥–∏)] ‚Üê zindex: -1
[body]
[neck]
[head]
[arm_left] ‚Üê –æ–±—ã—á–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ (zindex: 0 –∏–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω)
```

## –¢–∏–ø–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è
```json
{
  "body": {
    "image": "..."
  }
}
```

### –ü—Ä–æ—Å—Ç–∞—è —Å –≥–æ–ª–æ–≤–æ–π –∏ —Ä—É–∫–∞–º–∏
```json
{
  "body": { "image": "..." },
  "head": { 
    "image": "...",
    "parent": "body"
  },
  "arm_left": {
    "image": "...",
    "parent": "body"
  },
  "arm_right": {
    "image": "...",
    "parent": "body",
    "zindex": -1
  }
}
```

### –°–ª–æ–∂–Ω–∞—è —Å —Ü–µ–ø–æ—á–∫–∞–º–∏ –∫–æ—Å—Ç–µ–π
```json
{
  "body": { "image": "..." },
  "neck": { 
    "image": "...",
    "parent": "body"
  },
  "head": { 
    "image": "...",
    "parent": "neck"
  },
  "arm_left": { 
    "image": "...",
    "parent": "body"
  },
  "arm_left2": { 
    "image": "...",
    "parent": "arm_left"
  },
  "arm_left3": { 
    "image": "...",
    "parent": "arm_left2"
  },
  "arm_right": { 
    "image": "...",
    "parent": "body",
    "zindex": -1
  },
  "arm_right2": { 
    "image": "...",
    "parent": "arm_right"
  },
  "arm_right3": { 
    "image": "...",
    "parent": "arm_right2"
  }
}
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ

### SpritePart.vue
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç —á–∞—Å—Ç–∏ —Ç–µ–ª–∞:

1. –ë–µ—Ä—ë—Ç —á–∞—Å—Ç—å –∏–∑ `sprites` –æ–±—ä–µ–∫—Ç–∞
2. –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Å–º–µ—â–µ–Ω–∏–µ (`offset`)
3. –ü—Ä–∏–º–µ–Ω—è–µ—Ç z-index (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω)
4. –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–µ —á–∞—Å—Ç–∏

```vue
<SpritePart 
  :sprite="sprite" 
  :sprite-name="spriteName"
  :sprites="character.sprites"
  :sprites-by-parent="spritesByParent"
/>
```

### Character.vue
–ü–µ—Ä–µ–¥–∞—ë—Ç –≤—Å–µ —á–∞—Å—Ç–∏ —Ç–µ–ª–∞ –≤ SpritePart –∏ –ø–æ–ª—É—á–∞–µ—Ç `spritesByParent`:

```javascript
const spritesByParent = computed(() => {
  const grouped = { null: {} }
  
  for (const spriteName in props.character.sprites) {
    const sprite = props.character.sprites[spriteName]
    const parent = sprite.parent || null
    
    if (!grouped[parent]) {
      grouped[parent] = {}
    }
  }
  
  for (const spriteName in props.character.sprites) {
    const sprite = props.character.sprites[spriteName]
    const parent = sprite.parent || null
    grouped[parent][spriteName] = sprite
  }
  
  return grouped
})
```

## Z-Index –ø—Ä–∞–≤–∏–ª–∞

### –ü—Ä–∞–≤–∏–ª–æ 1: –ò–µ—Ä–∞—Ä—Ö–∏—è –≤–∞–∂–Ω–µ–µ
–ï—Å–ª–∏ —á–∞—Å—Ç–∏ —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ç–≤–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä `body ‚Üí head` –∏ `body ‚Üí arm_left`), —Ç–æ z-index –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–π –≤–µ—Ç–≤–∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥—É—é.

```json
{
  "body": { ... },
  "head": {
    "parent": "body",
    "zindex": -100  // –î–∞–∂–µ —Å –±–æ–ª—å—à–∏–º –º–∏–Ω—É—Å–æ–º, head –æ—Ç—Ä–∏—Å—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ arm
  },
  "arm_left": {
    "parent": "body"
  }
}
```

### –ü—Ä–∞–≤–∏–ª–æ 2: Z-index —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–¥–Ω–æ–º —É—Ä–æ–≤–Ω–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏
```json
{
  "body": { ... },
  "arm_left": {
    "parent": "body"
    // zindex: 0 (default)
  },
  "arm_right": {
    "parent": "body",
    "zindex": -1  // –ë—É–¥–µ—Ç –ø–æ–∑–∞–¥–∏ arm_left
  }
}
```

### –ü—Ä–∞–≤–∏–ª–æ 3: –õ–µ–≤–∞—è —Ä—É–∫–∞ –≤–ø–µ—Ä–µ–¥–∏, –ø—Ä–∞–≤–∞—è –ø–æ–∑–∞–¥–∏
**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∫–æ–Ω–≤–µ–Ω—Ü–∏—è –≤ —Å–ø—Ä–∞–π—Ç-–∞—Ä—Ç–µ:**

```json
{
  "arm_left": {
    "parent": "body"
    // zindex: 0 - –≤–ø–µ—Ä–µ–¥–∏ (–≤–∏–¥–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é)
  },
  "arm_right": {
    "parent": "body",
    "zindex": -1  // –ü–æ–∑–∞–¥–∏ —Ç–µ–ª–∞ (–≤–∏–¥–Ω–æ —á–∞—Å—Ç–∏—á–Ω–æ –∑–∞ —Ç–µ–ª–æ–º)
  }
}
```

## –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

### ‚ùå –û—à–∏–±–∫–∞ 1: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è —Å–≤–æ–π—Å—Ç–≤–∞
```json
{
  "arm_right": {
    "z-index": -1  // ‚ùå –ú–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö
  }
}
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```json
{
  "arm_right": {
    "zindex": -1  // ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ
  }
}
```

### ‚ùå –û—à–∏–±–∫–∞ 2: Z-index –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞
```json
{
  "arm_right": {
    "zindex": "-1"  // ‚ùå –≠—Ç–æ —Å—Ç—Ä–æ–∫–∞, –Ω–µ —á–∏—Å–ª–æ!
  }
}
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```json
{
  "arm_right": {
    "zindex": -1  // ‚úÖ –ß–∏—Å–ª–∞, –Ω–µ —Å—Ç—Ä–æ–∫–∏
  }
}
```

### ‚ùå –û—à–∏–±–∫–∞ 3: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π parent
```json
{
  "arm_left": {
    "parent": "body_part"  // ‚ùå –¢–∞–∫–æ–π —á–∞—Å—Ç–∏ –Ω–µ—Ç!
  }
}
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```json
{
  "arm_left": {
    "parent": "body"  // ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è
  }
}
```

## Checklist –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π —á–∞—Å—Ç–∏

- [ ] –§–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] –ü—É—Ç—å –≤ `image` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- [ ] `parent` (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω) —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] `offset` —É–∫–∞–∑–∞–Ω –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
- [ ] `zindex` (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω) —É–∫–∞–∑–∞–Ω —á–∏—Å–ª–æ–º, –Ω–µ —Å—Ç—Ä–æ–∫–æ–π
- [ ] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∞ —Å –∏–µ—Ä–∞—Ä—Ö–∏–µ–π
- [ ] –í—Å—ë —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–æ –±–µ–∑ –æ—à–∏–±–æ–∫

## –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞

| –°–≤–æ–π—Å—Ç–≤–æ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ? | –¢–∏–ø | –ü—Ä–∏–º–µ—Ä |
|----------|------------|-----|--------|
| `image` | ‚úÖ –î–∞ | string | `"images/..."` |
| `parent` | ‚ùå –ù–µ—Ç | string | `"body"` |
| `zindex` | ‚ùå –ù–µ—Ç | number | `-1`, `0`, `1` |
| `offset.x` | ‚ùå –ù–µ—Ç | number | `-41.99` |
| `offset.y` | ‚ùå –ù–µ—Ç | number | `-43` |

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 19 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–í–µ—Ä—Å–∏—è:** 1.0
